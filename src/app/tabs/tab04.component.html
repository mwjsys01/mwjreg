<div class="mat-elevation-z8">
  <mat-toolbar>
    <button mat-flat-button color="warn" (click)="dlCsv()">CSV出力</button>
    <!-- <a id="csv-donwload" data-type="text/csv"></a> -->
    <mat-paginator #paginators
      [length]="dataSource?.data.length"
      [pageIndex]="0"
      [pageSize]="10"
      [pageSizeOptions]="[10, 25, 50, 100]">
    </mat-paginator>
  </mat-toolbar>
  <table mat-table [dataSource]="dataSource" class="full-width-table" aria-label="Elements">
    <ng-container matColumnDef="custo">
      <th mat-header-cell *matHeaderCellDef>顧客</th>
      <td mat-cell *matCellDef="let row" [attr.rowspan]="row.rowsp" [style.display]="row.rowsp==0 ? 'none' : ''">{{row.custo}}</td>
    </ng-container>
    <ng-container matColumnDef="payty">
      <th mat-header-cell *matHeaderCellDef>支払方法</th>
      <td mat-cell *matCellDef="let row" [attr.rowspan]="row.rowsp" [style.display]="row.rowsp==0 ? 'none' : ''">{{row.payty | payType}}</td>
    </ng-container>
    <ng-container matColumnDef="total">
      <th mat-header-cell *matHeaderCellDef>税込合計額</th>
      <td mat-cell *matCellDef="let row" style="text-align:right;" [attr.rowspan]="row.rowsp" [style.display]="row.rowsp==0 ? 'none' : ''">{{row.total | number}}</td>
    </ng-container>
    <ng-container matColumnDef="gcode">
      <th mat-header-cell *matHeaderCellDef>商品</th>
      <td mat-cell *matCellDef="let row">{{row.gcode}}</td>
    </ng-container>
    <ng-container matColumnDef="price">
      <th mat-header-cell *matHeaderCellDef>単価(内税or外税)</th>
      <td mat-cell *matCellDef="let row" style="text-align:right;">{{row.price | number}}</td>
    </ng-container>
    <ng-container matColumnDef="count">
      <th mat-header-cell *matHeaderCellDef>数量</th>
      <td mat-cell *matCellDef="let row" style="text-align:right;">{{row.count | number}}</td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns;"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>
